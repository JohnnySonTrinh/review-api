# Testing

> [!NOTE]  
> Return back to the [README.md](README.md) file.

## Code Validation

### Python

I have used the recommended [PEP8 CI Python Linter](https://pep8ci.herokuapp.com) to validate all of my Python files.

| Directory | File                      | CI URL                                                                                                                                                          | Screenshot                                                        | Notes                                   |
| --------- | ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | --------------------------------------- |
| drf_api   | permissions.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/drf_api/permissions.py)                                 | ![screenshot](documentation/validation/drf-api-permissions.png)   | ✅                                      |
| drf_api   | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/drf_api/serializers.py)                                 | ![screenshot](documentation/validation/drf-api-serializers.png)   | ✅                                      |
| drf_api   | settings.py               | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/drf_api/settings.py)                                    | ![screenshot](documentation/validation/drf-api-settings.png)      | ✅                                      |
| drf_api   | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/drf_api/urls.py)                                        | ![screenshot](documentation/validation/drf-api-urls.png)          | ✅                                      |
| drf_api   | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/drf_api/views.py)                                       | ![screenshot](documentation/validation/drf-api-views.png)         | ✅                                      |
| followers | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/followers/admin.py)                                     | ![screenshot](documentation/validation/followers-admin.png)       | ✅                                      |
| followers | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/followers/models.py)                                    | ![screenshot](documentation/validation/followers-models.png)      | ✅                                      |
| followers | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/followers/serializers.py)                               | ![screenshot](documentation/validation/followers-serializers.png) | ✅                                      |
| followers | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/followers/urls.py)                                      | ![screenshot](documentation/validation/followers-urls.png)        | ✅                                      |
| followers | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/followers/views.py)                                     | ![screenshot](documentation/validation/followers-views.png)       | ✅                                      |
| likes     | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/likes/admin.py)                                         | ![screenshot](documentation/validation/likes-admin.png)           | ✅                                      |
| likes     | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/likes/models.py)                                        | ![screenshot](documentation/validation/likes-models.png)          | ✅                                      |
| likes     | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/likes/serializers.py)                                   | ![screenshot](documentation/validation/likes-serializers.png)     | ✅                                      |
| likes     | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/likes/urls.py)                                          | ![screenshot](documentation/validation/likes-urls.png)            | ✅                                      |
| likes     | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/likes/views.py)                                         | ![screenshot](documentation/validation/likes-views.png)           | ✅                                      |
|           | manage.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/manage.py)                                              | ![screenshot](documentation/validation/manage.png)                | ✅                                      |
| notes     | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/notes/admin.py)                                         | ![screenshot](documentation/validation/notes-admin.png)           | ✅                                      |
| notes     | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/notes/models.py)                                        | ![screenshot](documentation/validation/notes-models.png)          | ✅                                      |
| notes     | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/notes/serializers.py)                                   | ![screenshot](documentation/validation/notes-serializers.png)     | ✅                                      |
| notes     | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/notes/urls.py)                                          | ![screenshot](documentation/validation/notes-urls.png)            | ✅                                      |
| notes     | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/notes/views.py)                                         | ![screenshot](documentation/validation/notes-views.png)           | ✅                                      |
| profiles  | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/admin.py)                                      | ![screenshot](documentation/validation/profiles-admin.png)        | ✅                                      |
| profiles  | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/models.py)                                     | ![screenshot](documentation/validation/profiles-models.png)       | ✅                                      |
| profiles  | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/serializers.py)                                | ![screenshot](documentation/validation/profiles-serializers.png)  | ✅                                      |
| profiles  | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/urls.py)                                       | ![screenshot](documentation/validation/profiles-urls.png)         | ✅                                      |
| profiles  | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/views.py)                                      | ![screenshot](documentation/validation/profiles-views.png)        | ✅                                      |
| reviews   | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/reviews/admin.py)                                       | ![screenshot](documentation/validation/reviews-admin.png)         | ✅                                      |
| reviews   | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/reviews/models.py)                                      | ![screenshot](documentation/validation/reviews-models.png)        | ✅                                      |
| reviews   | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/reviews/serializers.py)                                 | ![screenshot](documentation/validation/reviews-serializers.png)   | ✅                                      |
| reviews   | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/reviews/urls.py)                                        | ![screenshot](documentation/validation/reviews-urls.png)          | ✅                                      |
| reviews   | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/reviews/views.py)                                       | ![screenshot](documentation/validation/reviews-views.png)         | ✅                                      |
| ratings   | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/ratings/admin.py)                                       | ![screenshot](documentation/validation/ratings-admin.png)         | ✅                                      |
| ratings   | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/ratings/models.py)                                      | ![screenshot](documentation/validation/ratings-models.png)        | ✅                                      |
| ratings   | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/ratings/serializers.py)                                 | ![screenshot](documentation/validation/ratings-serializers.png)   | ✅                                      |
| ratings   | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/ratings/urls.py)                                        | ![screenshot](documentation/validation/ratings-urls.png)          | E501 line too long (82 > 79 characters) |
| ratings   | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/ratings/views.py)                                       | ![screenshot](documentation/validation/ratings-views.png)         | ✅                                      |
| tickets   | admin.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/tickets/admin.py)                                       | ![screenshot](documentation/validation/tickets-admin.png)         | ✅                                      |
| tickets   | models.py                 | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/tickets/models.py)                                      | ![screenshot](documentation/validation/tickets-models.png)        | ✅                                      |
| tickets   | serializers.py            | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/tickets/serializers.py)                                 | ![screenshot](documentation/validation/tickets-serializers.png)   | ✅                                      |
| tickets   | urls.py                   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/tickets/urls.py)                                        | ![screenshot](documentation/validation/tickets-urls.png)          | ✅                                      |
| tickets   | views.py                  | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/tickets/views.py)                                       | ![screenshot](documentation/validation/tickets-views.png)         | ✅                                      |
| profiles  | update_profile_image.py   | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/management/commands/update_profile_image.py)   | ![screenshot](documentation/validation/profiles-image.png)        | ✅                                      |
| profiles  | update_profiles_images.py | [PEP8 CI](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/JohnnySonTrinh/review-api/main/profiles/management/commands/update_profiles_images.py) | ![screenshot](documentation/validation/profiles-images.png)       | ✅                                      |

## Manual Testing

### Testing URLs

|  **URL**         |  **Passed**  |
| ---------------- | ------------ |
| root             | ✅           |
| /profiles/       | ✅           |
| /profiles/:id/   | ✅           |
| /reviews/        | ✅           |
| /reviews/:id/    | ✅           |
| /reviews/create/ | ✅           |
| /notes/          | ✅           |
| /notes/:id       | ✅           |
| /followers/      | ✅           |
| /followers/:id/  | ✅           |
| /likes/          | ✅           |
| /likes/:id/      | ✅           |
| /ratings/        | ✅           |
| /ratings/:id/    | ✅           |
| /tickets/        | ✅           |
| /tickets/:id/    | ✅           |

## Bugs

| Bug                                                               | Screenshot                                 | Fixed | Notes                                                                                                           |
| ----------------------------------------------------------------- | ------------------------------------------ | ----- | --------------------------------------------------------------------------------------------------------------- |
| 400 responses even though the review was posted                   | ![Screenshot](documentation/bug/bug-1.png) | ✅    | Add `return Response(serializer.data, status=status.HTTP_201_CREATED)`                                          |
| Conflict with Django's built-in messages framework                | ![Screenshot](documentation/bug/bug-2.png) | ✅    | Renaming app to "notes" instead of "messages" to avoid the conflict with Django's built-in messaging framework. |
| Missing migrations after connected to Postgres(Reviews and notes) | ![Screenshot](documentation/bug/bug-3.png) | ✅    | Run Command line `python manage.py makemigrations review`... `python manage.py migrate note`...                 |
| CROS HEADER ERROR on frontend second deployed                     | ![Screenshot](documentation/bug/bug-4.png) | ✅    | Update settings.py `CORS_ALLOWED_ORIGINS = ["https://star-review-app-fb4aac8cda63.herokuapp.com",]`             |

## Unfixed Bugs

- The "Change Avatar" bug remains unresolved, and it appears that the Cloudinary API or profile models are not functioning as intended. Additionally, I have mentioned that there have been multiple migration problems in the backend

![Screenshot](documentation/bug/unfixed-bug.png)

- It has been brought to my attention that some issues have been encountered while browsing the application using various devices, including iPad, iPhone (Safari), VPN, and Mac (Safari). During testing, it was observed that the login process was unsuccessful, as the user was redirected to the login page repeatedly during Lighthouse test (incognito). It is suspected that there may be an issue with the JSON Web Token (JWT) system, which is preventing cookies or access tokens from being processed correctly.

- To diagnose the root cause of the issue, it is recommended that a more detailed analysis be conducted to determine whether the issue is related to the frontend or backend architecture of the application. A thorough investigation is required to resolve the issue and ensure the user experience is not compromised.

- The section on unfixed bugs remains largely unaddressed due to the project's deadline constraints. I will prioritize efforts to resolve these issues after completing current assessments to ensure the application meets its operational goals and provides a seamless user experience.

> [!NOTE]  
> There are no remaining bugs that I am aware of.
